{% extends "base.html" %}

{% block title %}商品リスト - {{ super() }}{% endblock %}

{% block content %}
<h1 class="text-center">商品リスト</h1>
{% if items %}
    <ul class="list-group">
    {% for item in items %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ item.name }}
            <span class="badge badge-primary badge-pill">{{ item.frequency }}日ごと</span>
            <div>
                <a href="{{ url_for('item.edit_item', id=item.id) }}" class="btn btn-sm btn-secondary">編集</a>
                <form style="display:inline;" method="POST" action="{{ url_for('item.delete_item', id=item.id) }}">
                    <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('本当に削除しますか？');">削除</button>
                </form>
            </div>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>商品がありません。レシートをアップロードして商品を追加してください。</p>
{% endif %}
<div class="mt-3">
    <a href="{{ url_for('item.upload') }}" class="btn btn-primary">レシートをアップロード</a>
</div>
{% endblock %}